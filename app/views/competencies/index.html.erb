<h2>Competencies</h2>
<ul>
  <li> Drag your 6 core competencies from the 'Available' list in to 'My Competencies' </li>
  <li> Order them (up/down) based on your expertise </li>
  <li> To change a competency drag it back to the 'Available' list and select another </li>
  <li> Your selections will automatically be saved </li>
</ul>
<div ng-controller='CompetenciesController'>
  <div class="row">
    <div class="col-md-6">
      <h3>My Competencies</h3>
      <ul ui-sortable='userCompetenciesOptions' ng-model='userCompetencies' 
        ng-init='userCompetencies = <%= @user_competencies.to_json %>'
        class='sortable-list competencies-container'>
        <li ng-repeat='uc in userCompetencies'>
          <span class="glyphicon glyphicon-align-justify drag-handle" aria-hidden="true"></span>
          {{uc.competency}}
        </li>
        <li ng-hide='userCompetencies.length > 0'>
          Drag a competency from the list on the right 
        </li>
        <li ng-show='userCompetencies.length > 5'>
          You have selected six competencies. Drag them into order of importance.
          To replace a competency drag it back to the 'available' list and select another.
        </li>
        <li ng-hide='userCompetencies.length == 0 ||
          userCompetencies.length > 5'>
          Drag another competency from the list on the right 
        </li>
      </ul>
    </div>
    <div class="col-md-6">
      <h3>Available Competencies</h3>
      <ul ui-sortable='availableCompetenciesOptions' ng-model='availableCompetencies' 
         ng-init='availableCompetencies = <%= UserCompetency.unassigned_competencies(current_user.id).to_json %>' 
         class='sortable-list col-md-6 competencies-container'>
         <li ng-repeat='uc in availableCompetencies'>
           <span class="glyphicon glyphicon-align-justify drag-handle" aria-hidden="true"></span>
           {{uc.competency}}
         </li>
      </ul>
    </div>
  </div>
</div>
